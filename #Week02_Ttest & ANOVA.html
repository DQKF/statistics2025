<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ•™å­¸è¬›ç¾© | é™³é™¸è¼æ•™æˆç¤¾æœƒç§‘å­¸çµ±è¨ˆå¯¦ä½œ</title>
 <style>
  body {
  max-width: 1400px;
  margin: 0 auto;
  padding: 30px;
  font-family: 'Noto Sans TC', 'Microsoft JhengHei', sans-serif;
  line-height: 1.8;
  background: #fafafa;
  color: #2c3e50;
  font-size: 24px !important;  /* å»ºè­°ç”¨ 22pxï¼Œ28px å¯èƒ½å¤ªå¤§ */
}

 /* ç¨‹å¼ç¢¼å€å¡ŠåŸºæœ¬æ¨£å¼ */
pre code {
  font-size: 22px !important;  /* å¾ 18px æ”¹æˆ 22px */
  line-height: 1.65 !important;
  display: block;
  padding: 12px;
  background: #fff !important;
  border: 1px solid #e1e8ed;
  border-radius: 8px;
  overflow-x: auto;
  white-space: pre;
  margin: 5px 0; 
}
/* å¯æŠ˜ç–Šå€å¡Š */
details {
  margin: 20px 0;
}

summary {
  font-size: 1.2rem;
  font-weight: bold;
  cursor: pointer;
  padding: 16px 20px;
  background: linear-gradient(135deg, #f0f8ff, #e6f3ff);
  border-radius: 8px;
  border-left: 6px solid #3498db;
  transition: all 0.3s;
}

summary:hover {
  background: #d6eaff;
}

/* é€™ä¸€æ®µåªæ§åˆ¶ details è£¡çš„å…§æ–‡è¡Œè·èˆ‡æ®µè½é–“è· */
details .tips-block p {
  line-height: 1.4 !important;
  margin: 0.2em  !important;
}

 /* é é¦– */
.hero h1 {
  font-size: 2.5rem;
  text-align: center;
  margin: 20px 0;
  color: #2c3e50;
  line-height: 1.2;   /* ç¸®æ¸›è¡Œè· */
  font-family: 'Noto Sans TC', 'Microsoft JhengHei UI', sans-serif;
}

.hero p {
  text-align: center;
  font-size: 1.5rem;
  margin: 4px 0;      /* æ¯”åŸæœ¬ 8px å†è²¼ä¸€é» */
  color: #34495e;
  line-height: 1.3;   /* ç¸®æ¸›è¡Œè· */
  font-family: 'Noto Sans TC', 'Microsoft JhengHei', sans-serif;
}

    /* åœ–è¡¨å®¹å™¨ï¼ˆå¯ä¿ç•™ï¼‰ */
    .chart-container {
      margin: 40px auto;
      text-align: center;
      padding: 25px;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.1);
      max-width: 1100px;
    }

    /* é å°¾ */
    .footer {
      text-align: center;
      margin-top: 80px;
      padding: 30px;
      color: #7f8c8d;
      border-top: 2px solid #ecf0f1;
      font-size: 1.1rem;
    }

    /* ç›®éŒ„ï¼šæ·ºè—åº•ï¼‹æ”¾å¤§å­—ï¼ˆå¥—ç”¨åœ¨ <pre><code> å…§çš„æŒ‡å®šè¡Œï¼‰ */
    pre code .toc-banner {
      display: block;              /* æ¯è¡Œå„è‡ªä¸€åˆ— */
      background: #e6f2ff;         /* æ·ºè—åº• */
      color: #2c3e50;
      font-size: 26px !important;  /* ç”± 18px æ”¾å¤§åˆ° 22px */
      font-weight: 700;
      padding: 6px 12px;
      border-radius: 6px;
      margin: 0 0 6px 0;           /* è¡Œè· */
    }

/* Stepï¼šæ·ºç¶ åº•ï¼‹æ”¾å¤§å­—ï¼ˆå¥—ç”¨åœ¨ <pre><code> å…§çš„æŒ‡å®šè¡Œï¼‰ */
    pre code .btoc-banner {
      display: block;              /* æ¯è¡Œå„è‡ªä¸€åˆ— */
      background: #bffff3;         /* æ·ºç¶ åº• */
      color: #2c3e50;
      font-size: 24px !important;  /* ç”± 18px æ”¾å¤§åˆ° 28px */
      font-weight: 700;
      padding: 6px 12px;
      border-radius: 6px;
      margin: 0 0 6px 0;           /* è¡Œè· */
    }

/* Stepï¼šæ·ºç°åº•ï¼‹ä¸€èˆ¬å¤§å°å­—å½¢ï¼ˆå¥—ç”¨åœ¨ <pre><code> å…§çš„æŒ‡å®šè¡Œï¼‰ */
    pre code .ctoc-banner {
      display: block;              /* æ¯è¡Œå„è‡ªä¸€åˆ— */
      background: #e9e9e9;         /* æ·ºç¶ åº• */
      color: #2c3e50;
      font-size: 18px !important;  /* ç”± 18px */
      font-weight: 600;
      padding: 6px 12px;
      border-radius: 6px;
      margin: 0 0 3px 0;           /* è¡Œè· */
    }
/* Stepï¼šæ·ºç°åº•ï¼‹ä¸€èˆ¬å¤§å°å­—å½¢ï¼ˆå¥—ç”¨åœ¨ <pre><code> å…§çš„æŒ‡å®šè¡Œï¼‰ */
    pre code .ttoc-banner {
      display: block;              /* æ¯è¡Œå„è‡ªä¸€åˆ— */
      background: #e9fade;         /* æ·ºç¶ åº• */
      color: #2c3e50;
      font-size: 28px !important;  /* ç”± 18px */
      font-weight: 600;
      padding: 3px 6px;
      border-radius: 6px;
      margin: 0 0 0px 0;           /* è¡Œè· */
    }

  </style>
</head>
<body>

  <div class="hero">
    <h1>åœ‹ç«‹æ”¿æ²»å¤§å­¸é¸èˆ‰ç ”ç©¶ä¸­å¿ƒ é™³é™¸è¼æ•™æˆ<br>ç¤¾æœƒç§‘å­¸çµ±è¨ˆå¯¦ä½œ</h1>
    <p><strong>Week02 - R for Descriptive Statistics & Tests of Association</strong></p>
    <p>æ—¥æœŸï¼š2025å¹´12æœˆ11æ—¥</p>
    <p>è¬›å“¡ï¼šå€ªä¸–å‚‘ åšå£«</p>
    <p>E-mailï¼šgeorgenee0502@gmail.com</p>
  </div>

  <details open>
    <summary>å­¸ç¿’ç›®æ¨™</summary>

  <div class="tips-block">
    <p>t-test
  </div>
</details></p> </summary>
    <pre><code class="language-r">=============================================================
åœ‹ç«‹æ”¿æ²»å¤§å­¸é¸ç ”ä¸­å¿ƒé™³é™¸è¼æ•™æˆç¤¾æœƒç§‘å­¸çµ±è¨ˆå¯¦ä½œ
Week02- R for Descriptive Statistics & Tests of Association 
Date:2025-12-11 
è¬›å“¡:å€ªä¸–å‚‘ åšå£«
E-mail:georgenee0502@gmail.com
=============================================================

<span class="toc-banner">ç›®éŒ„</span>
1.è³‡æ–™ç°¡è¿°èˆ‡ç ”ç©¶ä¸»æ—¨
2.è®Šé …åŠå…¶æ‰€åœ¨ä½ç½®
3.æª¢å®šæ–¹æ³•: t-test
4.è³‡æ–™æ¸…ç†A:å°è”¡è‹±æ–‡ç¸½çµ±åœ‹é˜²æ”¿ç­–çš„æ»¿æ„ç¨‹åº¦
  Step 01 æŸ¥çœ‹é»¨æ´¾å› ç´ 
  Step 02 data manipulation å°ä¸­åœ‹çš„ä¿¡ä»»ç¨‹åº¦
  Step 03 åˆä½µè³‡æ–™
  Step 04 t-test
  Step 05 è¦–è¦ºåŒ– æç´åœ– violin
5. Fisheræª¢å®š ï¼ˆå°æ¨£æœ¬é©ç”¨ï¼‰
6. t-test for Likert
  Step 01 è³‡æ–™æ•´ç†
  Step 02 t.test
  Step 03 Cohenâ€™s d 
  Step 04 Wilcoxon test
7.ANOVA(Analysis of Variance)è®Šç•°æ•¸åˆ†æ
  Step 01 è³‡æ–™æŸ¥çœ‹
  Step 02 å–®å› å­ ANOVA
  Step 03 æ•ˆæœé‡èªªæ˜ï¼ˆÎ·Â² / éƒ¨åˆ†Î·Â²ï¼‰
  Step 04 äº‹å¾Œæ¯”è¼ƒ TukeyHSD test
8.TukeyHSD(a1) è¦–è¦ºåŒ–: Forest plot
  Step 01 å–å¾— Tukey çµæœ â†’ æ•´ç†æˆè³‡æ–™æ¡†
  Step 02 æ£®æ—åœ–
  Step 03 save as .png file
  Step04 è¦–è¦ºåŒ– é›¢æ•£é»åœ–Jittered dot/strip plot
9.save as .png file
10.å­˜æª”

<span class="toc-banner">1.è³‡æ–™ç°¡è¿°èˆ‡ç ”ç©¶ä¸»æ—¨</span>
è³‡æ–™:TEDS2024-T_PAO3.sav
åŸæª”æ¡ˆTEDS2024-T_PAO35.sav è½‰å­˜ç‚º C.csv.
ç ”ç©¶å°è±¡ï¼š[å°è”¡è‹±æ–‡ç¸½çµ±çš„åœ‹é˜²æ”¿ç­–çš„æ»¿æ„åº¦] èˆ‡ 
        [æ°‘çœ¾çš„æ”¿é»¨æ”¯æŒç‹€æ…‹] ä¹‹é–“çš„é—œè¯æ€§ã€‚

<span class="toc-banner">2.è®Šé …åŠå…¶æ‰€åœ¨ä½ç½®</span>
       è®Šé …                è®Šé …å…§å®¹          æ‰€åœ¨ä½ç½®      è®Šé …é¡å‹
 1.å°ä¸­åœ‹çš„ä¿¡ä»»ç¨‹åº¦          0-10             C$q17       numeric
 2.å°éŸ“åœ‹ç‘œçš„å¥½æ„Ÿåº¦          0-10             C$q19       numeric
 3.å°è”¡è‹±æ–‡çš„ä¿¡ä»»åº¦          0-10             C$q13       numeric
 4.æ”¿é»¨æ”¯æŒå°è±¡             æ”¿é»¨é¡åˆ¥          C$q26:28   categorical

<span class="toc-banner">3.æª¢å®šæ–¹æ³•: t-test</span>
numeric Vs. categorical variables
ç¨ç«‹æ¨£æœ¬T-æª¢å®šï¼šã€Œå…©å€‹ã€ä¸åŒç¾¤é«”çš„å¹³å‡æ•¸æ˜¯å¦ç›¸åŒï¼Ÿ
T-test é¡åˆ¥è³‡æ–™ï¼šé»¨æ´¾äºŒåˆ†æ³• Vs. æ•¸å€¼å‹è³‡æ–™
       é»¨æ´¾--æ³›ç¶  ï¼† è—ç™½é™£ç‡Ÿ Vs. å°ä¸­åœ‹çš„ä¿¡ä»»åº¦ ï¼ˆ0 == æ¥µåº¦ä¸ä¿¡ä»», 10 == éå¸¸ä¿¡ä»»ï¼‰
è™›ç„¡å‡è¨­ï¼šæ³›ç¶ é™£ç‡Ÿ èˆ‡ è—ç™½é™£ç‡Ÿ å°ä¸­åœ‹çš„ä¿¡ä»»ç¨‹åº¦å¹³å‡åˆ†æ•¸ ä¹‹é–“æ²’æœ‰å·®ç•°ã€‚
å°ç«‹å‡è¨­ï¼šæ³›ç¶ é™£ç‡Ÿ èˆ‡ è—ç™½é™£ç‡Ÿ å°ä¸­åœ‹çš„ä¿¡ä»»ç¨‹åº¦å¹³å‡åˆ†æ•¸ ä¹‹é–“æœ‰é¡¯è‘—çš„å·®ç•°ã€‚ 
æ³¨æ„ï¼šcell çš„æœŸæœ›å€¼æ¬¡æ•¸é ˆ >= 5ã€‚

<span class="btoc-banner">Step 01 æŸ¥çœ‹é»¨æ´¾å› ç´ </span>
é»¨æ´¾äºŒåˆ†é¡
<span class="ctoc-banner">frq(C2628$partisanship_N3)</span>
x <categorical> 
total N=1202 valid N=902 mean=1.49 sd=0.50
Value    |   N | Raw % | Valid % | Cum. %
-----------------------------------------
æ³›ç¶ é™£ç‡Ÿ | 460 | 38.27 |      51 |     51
è—ç™½é™£ç‡Ÿ | 442 | 36.77 |      49 |    100
<NA>    | 300 | 24.96 |    <NA> |   <NA>

<span class="btoc-banner">Step 02 data manipulation å°ä¸­åœ‹çš„ä¿¡ä»»ç¨‹åº¦</span>
<span class="ctoc-banner">C17<-C[c("q17")]</span>
<span class="ctoc-banner">frq(C17$q17)</span>
13.æ‚¨èªç‚ºä¸­åœ‹å¤§é™¸æ”¿åºœå¯ä¸å¯ä»¥ä¿¡ä»»ï¼Œå¦‚æœ0ä»£è¡¨éå¸¸ä¸å¯ä¿¡ï¼Œ10ä»£è¡¨éå¸¸å¯ä¿¡ï¼Œå¾0åˆ°10è«‹å•æ‚¨æœƒçµ¦å¤šå°‘? (x) <numeric> 
total N=1202 valid N=1202 mean=7.61 sd=21.84
Value |      Label |   N | Raw % | Valid % | Cum. %
---------------------------------------------------
   0 | éå¸¸ä¸å¯ä¿¡ | 482 | 40.10 |   40.10 |  40.10
   1 |          1 |  69 |  5.74 |    5.74 |  45.84
   2 |          2 |  74 |  6.16 |    6.16 |  52.00
   3 |          3 | 131 | 10.90 |   10.90 |  62.90
   4 |          4 |  82 |  6.82 |    6.82 |  69.72
   5 |          5 | 185 | 15.39 |   15.39 |  85.11
   6 |          6 |  50 |  4.16 |    4.16 |  89.27
   7 |          7 |  23 |  1.91 |    1.91 |  91.18
   8 |          8 |  25 |  2.08 |    2.08 |  93.26
   9 |          9 |   6 |  0.50 |    0.50 |  93.76
  10 |   éå¸¸å¯ä¿¡  |   8 |  0.67 |    0.67 |  94.43
  95 |       æ‹’ç­” |  25 |  2.08 |    2.08 |  96.51
  98 |     ä¸çŸ¥é“ |  42 |  3.49 |    3.49 | 100.00
  NA |        NA |   0 |  0.00 |      NA |    NA
å°‡ 95, 98, NA è¨­å®šç‚º NA
<span class="ctoc-banner">C17 <- C17 %>%
  mutate(
         q17 = as.numeric(q17),   # 0â€“10 åˆ† or 95/98
         trust_CN = case_when(
         q17 %in% c(95, 98) ~ NA_real_,  # ç¼ºæ¼å€¼
         TRUE              ~ q17   # å…¶ä»–ç…§åŸåˆ†æ•¸
                             )
        )</span>
<span class="ctoc-banner">frq(C17$trust_CN)</span>
x <numeric> 
total N=1202 valid N=1135 mean=2.34 sd=2.50
Value |   N | Raw % | Valid % | Cum. %
--------------------------------------
   0 | 482 | 40.10 |   42.47 |  42.47
   1 |  69 |  5.74 |    6.08 |  48.55
   2 |  74 |  6.16 |    6.52 |  55.07
   3 | 131 | 10.90 |   11.54 |  66.61
   4 |  82 |  6.82 |    7.22 |  73.83
   5 | 185 | 15.39 |   16.30 |  90.13
   6 |  50 |  4.16 |    4.41 |  94.54
   7 |  23 |  1.91 |    2.03 |  96.56
   8 |  25 |  2.08 |    2.20 |  98.77
   9 |   6 |  0.50 |    0.53 |  99.30
  10 |   8 |  0.67 |    0.70 | 100.00
 NA  |  67 |  5.57 |     NA  |    NA

<span class="ctoc-banner">C17 <- C17 %>%
  mutate(
    q17 = parse_number(as.character(q17)),        # æˆ– as.numeric(q17)
    q17 = ifelse(q17 %in% c(95, 98), NA_real_, q17),

    trust_CN_N = case_when(
      !is.na(q17) & q17 >= 0  & q17 <= 3  ~ "ä¸ä¿¡ä»»",
      !is.na(q17) & q17 >= 4  & q17 <= 6  ~ "æ™®é€š",
      !is.na(q17) & q17 >= 7  & q17 <= 10 ~ "ä¿¡ä»»",
      TRUE                                ~ NA_character_
    ),

    trust_CN_N = factor(trust_CN_N,
                        levels = c("ä¸ä¿¡ä»»","æ™®é€š","ä¿¡ä»»"),
                        ordered = TRUE)
  )</span>

<span class="ctoc-banner">frq(C17$trust_CN_N)</span>
x <ordinal> 
total N=1202 valid N=1135 mean=1.39 sd=0.59
Value  |   N | Raw % | Valid % | Cum. %
---------------------------------------
 ä¸ä¿¡ä»» | 756 | 62.90 |   66.61 |  66.61
 æ™®é€š   | 317 | 26.37 |   27.93 |  94.54
 ä¿¡ä»»   |  62 |  5.16 |    5.46 | 100.00
 NA    |  67 |  5.57 |     NA  |    NA

<span class="btoc-banner">Step03 åˆä½µè³‡æ–™</span>
<span class="ctoc-banner">CA2$trust_CN <- as.numeric(CA2$trust_CN)</span>
<span class="ctoc-banner">CA2$partisanship_N3 <- as.factor(CA2$partisanship_N3)</span>
<span class="ctoc-banner">CA2 <- cbind(C17, C2628)</span>

<span class="btoc-banner">Step04 t-test</span>
<span class="ctoc-banner">t.test(trust_CN ~ partisanship_NN, data = CA2)</span>
Welch Two Sample t-test
data:  trust_CN by partisanship_NN
t = -9.1714, df = 373.49, p-value < 2.2e-16
alternative hypothesis: true difference in means between groups 
æ³›ç¶ é™£ç‡Ÿ and group è—ç™½é™£ç‡Ÿ is not equal to 0
95 percent confidence interval:
-1.977082 -1.278988
sample estimates:
mean in group æ³›ç¶ é™£ç‡Ÿ mean in group è—ç™½é™£ç‡Ÿ 
           1.205298               2.833333 

 æ ¸å¿ƒçµ±è¨ˆé‡
 çµ±è¨ˆé‡           æ•¸å€¼              èªªæ˜ 
 t çµ±è¨ˆé‡      -9.1714       è¡¡é‡å…©çµ„å¹³å‡æ•¸å·®ç•°çš„å¤§å°ï¼ˆä»¥æ¨™æº–èª¤ç‚ºå–®ä½ï¼‰ã€‚
                            è² å€¼è¡¨ç¤ºç¬¬ä¸€å€‹çµ„åˆ¥ï¼ˆæ³›ç¶ é™£ç‡Ÿï¼‰çš„å¹³å‡æ•¸ä½æ–¼ç¬¬äºŒå€‹çµ„åˆ¥ï¼ˆè—ç™½é™£ç‡Ÿï¼‰ã€‚
                            è¡¨æ˜æ³›ç¶ å’Œè—ç™½é™£ç‡Ÿæ”¯æŒè€…åœ¨å°ä¸­åœ‹ä¿¡ä»»ç¨‹åº¦çš„å¹³å‡å·®ç•°ï¼Œæ˜¯éš¨æ©Ÿè®Šç•°çš„9å€ä»¥ä¸Šã€‚
 è‡ªç”±åº¦(df)    373.49        ç”±æ–¼æ¡ç”¨ Welch æª¢å®šï¼ˆä¸å‡è¨­è®Šç•°æ•¸ç›¸ç­‰ï¼‰ï¼Œè‡ªç”±åº¦é€šå¸¸ä¸æ˜¯æ•´æ•¸ã€‚
 p-value      < 2.2e-16     < 0.05


å¹³å‡æ•¸èˆ‡å·®ç•°ä¼°è¨ˆ
é …ç›®               æ•¸å€¼             èªªæ˜
æ³›ç¶ é™£ç‡Ÿå¹³å‡        1.205
è—ç™½é™£ç‡Ÿå¹³å‡        2.833
95% CI$       [-1.977, -1.279]  å…©çµ„å¹³å‡æ•¸çš„çœŸå¯¦å·®ç•°æœ‰ 95% 
                                çš„ä¿¡å¿ƒè½åœ¨æ­¤å€é–“å…§ã€‚ç”±æ–¼æ•´å€‹å€é–“éƒ½æ˜¯è² å€¼ï¼Œ
                                ç¢ºèªæ³›ç¶ é™£ç‡Ÿçš„å¹³å‡æ•¸é¡¯è‘—ä½æ–¼è—ç™½é™£ç‡Ÿã€‚

çµæœï¼Œæ‹’çµ•è™›ç„¡å‡è¨­ã€‚åœ¨å°ä¸­åœ‹çš„ä¿¡ä»»åº¦ä¸Šï¼Œæ³›ç¶ é™£ç‡Ÿé¡¯è‘—ä½æ–¼è—ç™½é™£ç‡Ÿçš„æ”¯æŒè€…ã€‚

<span class="btoc-banner">Step 05 è¦–è¦ºåŒ– æç´åœ– violin</span>
<span class="ctoc-banner">ggplot(CA2, aes(x = partisanship_NN, y = trust_CN)) +
  geom_violin(trim = FALSE, alpha = .2) +
  geom_boxplot(width = .15, outlier.alpha = .2) +
  stat_summary(fun = mean, geom = "point", size = 3) +
  stat_summary(fun.data = mean_cl_normal, geom = "errorbar", width = .2) +
  labs(x = "æ”¿é»¨é™£ç‡Ÿ", y = "å°ä¸­åœ‹ä¿¡ä»»ï¼ˆ0â€“10ï¼‰",
       title = "ä¸åŒé™£ç‡Ÿå¢®ä¸­åœ‹ä¿¡ä»»åº¦çš„å¹³å‡æ•¸å·®ç•°åŠåˆ†å¸ƒï¼ˆå«95%CIï¼‰")</span>

fun.data = mean_cl_normal:  ggplot2::stat_summary() 
æŒ‡å®šå¦‚ä½•åŒæ™‚è¨ˆç®—ã€Œå¹³å‡æ•¸ï¼‹ä¿¡è³´å€é–“ã€çš„å‡½æ•¸ã€‚

mean_cl_normal æœƒå°æ¯å€‹åˆ†çµ„çš„ y å€¼è¨ˆç®—ï¼š
  â€¢ y = å¹³å‡æ•¸
  â€¢ ymin / ymax = å¹³å‡æ•¸ Â± ï¼ˆ1.96 Ã— æ¨™æº–å·®ï¼‰ï¼Œä¹Ÿå°±æ˜¯ä»¥å¸¸æ…‹è¿‘ä¼¼ï¼ˆzï¼‰è¨ˆç®—çš„ 95% ä¿¡è³´å€é–“
  #ï¼ˆæ¨™æº–å·® = sd(x)/sqrt(n)ï¼‰

ğŸˆæ³¨æ„ï¼ cell value < 5

<span class="toc-banner">5. Fisheræª¢å®š ï¼ˆå°æ¨£æœ¬é©ç”¨)</span>
æ”¹æ¡ç”¨Fisheræª¢å®šã€‚ï¼ˆå°æ¨£æœ¬ï¼†ç¨€ç–çŸ©é™£è™•ç†ï¼‰
åˆ—è¯è¡¨
<span class="ctoc-banner">CA2_Fisher <- table(CA2$partisanship_NN, CA2$trust_CN)</span>
Fisher ç²¾ç¢ºæª¢å®šï¼ˆå°æ¨£æœ¬æˆ–ç¨€ç–cellï¼‰
<span class="ctoc-banner">fisher.test(CA2_Fisher, 
                                      simulate.p.value = TRUE, 
# Ræ”¹ç”¨ Monte Carlo æ¨¡æ“¬ çš„æ–¹å¼ï¼Œç”¨éš¨æ©ŸæŠ½æ¨£ä¾†ã€Œä¼°è¨ˆã€ p-valueï¼Œè€Œä¸æ˜¯ç²¾ç®—ã€‚
                                      B = 2000
# B å°±æ˜¯ æ¨¡æ“¬çš„æ¬¡æ•¸ï¼ˆreplicates / simulationsï¼‰
                                    )</span>
Fisher's Exact Test for Count Data
with simulated p-value (based on 2000 replicates)
data: CA2_Fisher
p-value = 0.0004998
alternative hypothesis: two.sided 
ï¼ˆé›™å°¾ï¼šæ’é™¤æ–¹å‘æ€§ï¼‰
èªªæ˜ï¼Œæœ¬è³‡æ–™é›†ç”±æ–¼æ¨£æœ¬æ•¸éå¤§ï¼Œä¸¦ä¸ç›´æ¥é©ç”¨fisher.test(CA2_Fisher)

<span class="toc-banner">6.t-test for Likert</span>
æ¸¬é‡é»¨æ´¾èªåŒèˆ‡å°è”¡è‹±æ–‡ç¸½çµ±åœ‹é˜²æ”¿ç­–æ»¿æ„åº¦ä¹‹é–“çš„é—œè¯æ€§ã€‚
<span class="btoc-banner">Step 01 è³‡æ–™æ•´ç†</span>
T-test ç”¨ä¾†æª¢é©—ã€Œå…©å€‹å¹³å‡æ•¸æ˜¯ä¸æ˜¯ä¸ä¸€æ¨£ã€ï¼Œ
æˆ–è€…ã€Œä¸€å€‹å¹³å‡æ•¸è·ŸæŸå€‹ç†è«–å€¼æ˜¯ä¸æ˜¯ä¸ä¸€æ¨£ã€ã€‚
ä¹Ÿå¯ä»¥å°‡Likerté‡è¡¨è½‰åŒ–ç‚ºnumericçš„æ¦‚å¿µé€²è¡Œt-testé‹ç®—ã€‚
1)load R package
<span class="ctoc-banner">install.packages("effectsize")</span>
<span class="ctoc-banner">library(effectsize)
library(dplyr)</span>
2)åˆªé™¤NA
CA1$q9, ä¿ç•™ 1,2,3,4, else = NA == new column CA1$Natil_Defence4, 
as numeric form.
<span class="ctoc-banner">
CA1 <- CA1 |>
  mutate(
    Natil_Defence4 = if_else(q9 %in% 1:4,  # åªä¿ç•™ 1,2,3,4
                             as.numeric(q9),
                             NA_real_)     # å…¶ä»–é€šé€šè¨­ç‚º NAï¼ˆå«95,98ï¼‰
  )</span>
|> èˆ‡ %>% æ˜¯ä¸€æ¨£çš„åŠŸèƒ½ã€‚
æç¤º
1 == éå¸¸æ»¿æ„
2 == æ»¿æ„
3 == ä¸æ»¿æ„
4 == éå¸¸ä¸æ»¿æ„

<span class="ctoc-banner">levels(CA1$partisanship_N3)</span>
[1] "æ³›ç¶ é™£ç‡Ÿ" "è—ç™½é™£ç‡Ÿ"

<span class="btoc-banner">Step 02 t.test</span>
<span class="ctoc-banner">t.test(Natil_Defence4  ~ partisanship_N3, 
                           data = CA1,
                           na.rm = TRUE)</span>
Welch Two Sample t-test

data:  Natil_Defence4 by partisanship_N3
t = -26.988, df = 722.16, p-value < 2.2e-16
alternative hypothesis: true difference in means between group æ³›ç¶ é™£ç‡Ÿ and group è—ç™½é™£ç‡Ÿ is not equal to 0
95 percent confidence interval:
 -1.532709 -1.324833
sample estimates:
mean in group æ³›ç¶ é™£ç‡Ÿ mean in group è—ç™½é™£ç‡Ÿ 
              1.530516               2.959288 

èªªæ˜
1)æ³›ç¶ é™£ç‡Ÿåœ¨ Natil_Defence4 çš„å¹³å‡ â‰ˆ 1.53
  è—ç™½é™£ç‡Ÿå¹³å‡ â‰ˆ 2.96
  å·®ç•°ï¼ˆæ³›ç¶  - è—ç™½ï¼‰ â‰ˆ -1.43 åˆ†
  ä»£è¡¨ã€Œæ³›ç¶ é™£ç‡Ÿã€åœ¨é€™å€‹é¡Œç›®ä¸Šçš„å¹³å‡åˆ†æ•¸ï¼Œæ¯”ã€Œè—ç™½é™£ç‡Ÿã€å¤§ç´„ä½ 1.4 åˆ†ã€‚
  æ³›ç¶ é™£ç‡Ÿæ¯”è—ç™½é™£ç‡Ÿæ”¯æŒè€…ï¼Œæ›´æ»¿æ„æ–¼è”¡ç¸½çµ±çš„åœ‹é˜²æ”¿ç­–ã€‚
2)t å€¼èˆ‡ p å€¼
  t = -26.99 çš„çµ•å°å€¼éå¸¸å¤§ï¼Œä»£è¡¨ã€Œæ¨£æœ¬å¹³å‡å·®ç•° / æ¨™æº–èª¤ã€è¶…å¤§ã€‚
  p < 2.2e-16 å¹¾ä¹å°±æ˜¯ã€Œåœ¨è™›ç„¡å‡è¨­ç‚ºçœŸçš„æƒ…æ³ä¸‹ï¼Œ
  è§€å¯Ÿåˆ°é€™éº¼æ¥µç«¯å·®ç•°çš„æ©Ÿç‡å¹¾ä¹æ˜¯ 0ã€ã€‚
  è¡¨ç¤ºå¯ä»¥å®‰å¿ƒæ‹’çµ• å…©çµ„å¹³å‡æ•¸ç›¸åŒçš„è™›ç„¡å‡è¨­ã€‚
3)95% ä¿¡è³´å€é–“
  ä¿¡è³´å€é–“ [-1.53, -1.32] å®Œå…¨åœ¨ 0 ä»¥ä¸‹ï¼Œ
  çœŸå¯¦æ¯é«”çš„å¹³å‡å·®ç•°ï¼ˆæ³›ç¶  âˆ’ è—ç™½ï¼‰æ˜¯è² çš„ï¼Œ
  è€Œä¸”å¤§æ¦‚åœ¨ -1.5 åˆ° -1.3 ä¹‹é–“ï¼Œç›¸ç•¶ç‹¹çª„ã€‚

<span class="btoc-banner">Step 03 Cohenâ€™s d</span>
å·®ç•°çš„å¤§å°å å¹¾å€‹æ¨™æº–å·®ï¼Ÿ
<span class="ctoc-banner">cohens_d(Natil_Defence4  ~ partisanship_N3, 
                           data = CA1,
                           na.rm = TRUE)</span>
Cohen's d |         95% CI
--------------------------
-1.91     | [-2.07, -1.74]

- Estimated using pooled SD.
Warning message:
Missing values detected. NAs dropped.

èªªæ˜
1)æ³›ç¶ é™£ç‡Ÿèˆ‡è—ç™½é™£ç‡Ÿæ”¯æŒè€…åœ¨è”¡ç¸½çµ±åœ‹é˜²æ”¿ç­–çš„æ»¿æ„åº¦å·®ç•°ä½”äº† |-1.91| == 1.91å€‹æ¨™æº–å·®ã€‚
  Jacob Cohen å¸¸ç”¨é–€æª»ï¼š0.2 å°ã€0.5 ä¸­ã€0.8 å¤§
  1.91 å·²ç¶“æ˜¯ã€Œè¶…å¤§æ•ˆæœé‡ã€ï¼Œä»£è¡¨å…©çµ„å¹¾ä¹æ˜¯æ˜é¡¯åˆ†é–‹çš„å…©ç¾¤äººå£ã€‚
2)Cohenâ€™s d çš„ 95% CI: [-2.07, -1.74]
  æ•´å€‹å€é–“éƒ½é é›¢ 0ï¼Œä»£è¡¨å³ä¾¿è€ƒæ…®æŠ½æ¨£èª¤å·®ï¼Œã€ŒçœŸçš„æ•ˆæœé‡ã€
  ä¹Ÿå¹¾ä¹è‚¯å®šæ˜¯éå¸¸å¤§çš„è² å‘å·®ç•°ã€‚

<span class="btoc-banner">Step 04 Wilcoxon test</span>
<span class="ctoc-banner">wilcox.test(Natil_Defence4 ~ partisanship_N3,
            data   = CA1,
            exact  = FALSE,  # æ¨£æœ¬æ•¸å¤§æ™‚å»ºè­°é—œæ‰ exact
            conf.int = TRUE)</span>
Wilcoxon rank sum test with continuity correction

data:  Natil_Defence4 by partisanship_N3
W = 19026, p-value < 2.2e-16
alternative hypothesis: true location shift is not equal to 0
95 percent confidence interval:
 -1.999995 -1.000064
sample estimates:
difference in location 
             -1.000017 

èªªæ˜
1)Wilcoxon test å¯ç†è§£ç‚ºå…©çµ„ä¸­ä½æ•¸ä¹‹å·®
2)ç‚ºä½•éœ€è¦è£œåšWilcoxon testï¼Ÿ
  â€¢ ä¸è¦æ±‚å¸¸æ…‹åˆ†é…ã€‚
  â€¢ åªåˆ©ç”¨ æ’åºï¼ˆrankï¼‰ï¼Œè€Œä¸æ˜¯åŸå§‹åˆ†æ•¸ã€‚
  â€¢ é©åˆç­‰ç´šå°ºåº¦ï¼Œå¦‚Likertã€‚
  â€¢ å°æ¥µç«¯å€¼ã€ä¸å°ç¨±åˆ†å¸ƒæ¯”è¼ƒä¸æ•æ„Ÿï¼Œè¼ƒç‚ºç©©å¥ã€‚
  â€¢ åœ¨æœ¬æ¬¡æ•™å­¸ç¤ºç¯„ä¸­ï¼Œå³ä½¿è³‡æ–™æœªå‘ˆç¾å¸¸æ…‹åˆ†ä½ˆã€
    Likertæœªå¿…æ˜¯é€£çºŒè€Œåªæœ‰æ’åºï¼Œçµè«–é‚„æˆç«‹å—ï¼Ÿ
3) difference in location -1.000017   
   æ³›è—èˆ‡æ³›ç¶ æ”¯æŒè€…åœ¨æœ¬è­°é¡Œä¸Šå¹³å‡ç´„å·®äº†ä¸€å€‹ç´šè·ã€‚
   p-value < 2.2e-16 å…·æœ‰çµ±è¨ˆä¸Šçš„é¡¯è‘—æ€§ã€‚
4)â€¢ t-testï¼šã€Œå…©çµ„å¹³å‡æ•¸æ˜¯ä¸æ˜¯ã€æœ‰å·®ã€ï¼Ÿã€ï¼ˆå‡è¨­æª¢å®šã€p å€¼ï¼‰
  â€¢ Cohenâ€™s dï¼šå·®ç•°åˆ°åº•æœ‰å¤šå¤§ï¼Ÿï¼ˆæ•ˆæœé‡ï¼‰
  â€¢ Wilcoxonï¼šä¸å‡è£å¸¸æ…‹ & é–“è·ï¼Œçœ‹çœ‹ã€Œæ’åº/åˆ†ä½ˆã€æ˜¯ä¸æ˜¯ä¹Ÿæœ‰å·®ï¼Ÿã€‚

<span class="ttoc-banner">ç¸½çµ
ç”±æ–¼ Natil_Defence4 ç‚º 1â€“4 çš„ Likert ç­‰ç´šè³‡æ–™ï¼Œ
æœ¬ç ”ç©¶é¦–å…ˆä»¥ Welch t æª¢å®šæ¯”è¼ƒæ³›ç¶ èˆ‡è—ç™½å…©çµ„åœ¨åœ‹é˜²æ”¿ç­–æ»¿æ„åº¦çš„å¹³å‡æ•¸å·®ç•°ï¼Œ
çµæœé¡¯ç¤ºå…©çµ„å·®ç•°é«˜åº¦é¡¯è‘—ï¼ˆt = -26.99, p < .001ï¼‰ã€‚
é€²ä¸€æ­¥ä»¥ Cohenâ€™s d è©•ä¼°æ•ˆæœé‡ï¼Œå¾—åˆ° d = -1.91ï¼Œ95% CI [-2.07, -1.74]ï¼Œ
å±¬æ–¼é è¶…é Cohen æ‰€å®šç¾©çš„ã€Œå¤§æ•ˆæœã€ï¼ˆ|0.8|ï¼‰çš„å·®ç•°ï¼Œ
é¡¯ç¤ºå…©çµ„åœ¨æ»¿æ„åº¦ä¸Šçš„å€åˆ¥ä¸åƒ…çµ±è¨ˆé¡¯è‘—ï¼Œä¸”å…·å¯¦è³ªä¸Šçš„æ¥µå¤§æ•ˆæœã€‚

è€ƒé‡ Natil_Defence4 åƒ…ç‚ºç­‰ç´šå°ºåº¦ï¼Œæœ¬ç ”ç©¶åŒæ™‚è£œåš
Mannâ€“Whitney Wilcoxon éåƒæ•¸æª¢å®šï¼Œä»¥é™ä½å¸¸æ…‹åˆ†é…èˆ‡é–“è·å°ºåº¦å‡è¨­å¯èƒ½å¸¶ä¾†çš„åèª¤ã€‚
Wilcoxon æª¢å®šåŒæ¨£å¾—åˆ°æ¥µé¡¯è‘—çµæœï¼ˆp < .001ï¼‰ï¼Œ
å…¶ä¼°è¨ˆçš„ã€Œä½ç½®å·®ç•°ã€ï¼ˆæ³›ç¶  âˆ’ è—ç™½ï¼‰ç´„ç‚º -1.00ï¼Œ95% CI [âˆ’2.00, âˆ’1.00]ï¼Œ
è¡¨ç¤ºåœ¨ 1â€“4 çš„ç­‰ç´šå°ºåº¦ä¸Šï¼Œæ³›ç¶ æ”¯æŒè€…çš„å…¸å‹è©•åˆ†ç´„æ¯”è—ç™½æ”¯æŒè€…ä½ 1 å€‹ç­‰ç´šä»¥ä¸Šã€‚æ•´é«”è€Œè¨€ï¼Œ
t æª¢å®šã€Cohenâ€™s d èˆ‡ Wilcoxon æª¢å®šä¸‰è€…çµæœä¸€è‡´ï¼Œ
é¡¯ç¤ºæ”¿é»¨èªåŒå°åœ‹é˜²æ”¿ç­–æ»¿æ„åº¦å…·æœ‰å¼·çƒˆä¸”ç©©å¥çš„å€åˆ¥æ•ˆæœã€‚</span>

<span class="toc-banner">7.ANOVA(Analysis of Variance)è®Šç•°æ•¸åˆ†æ</span>
èªªæ˜
1)èˆ‡t-testçš„å·®åˆ¥
â€¢ t-test:çµ„åˆ¥=2
â€¢ ANOVA:çµ„åˆ¥ >2
2)é€šå¸¸æ¡ç”¨é›™å°¾æª¢å®šã€‚åªæœ‰åœ¨ä¸€å€‹æ–¹å‘æ€§æ™‚æ‰å…·æœ‰æ„ç¾©æ™‚æ‰ä½¿ç”¨å–®å°¾ã€‚

ä»¥ä¸‹æª¢æ¸¬ æ”¿é»¨èº«ä»½èªåŒ èˆ‡ å°ä¸­åœ‹ä¿¡ä»»ç¨‹åº¦ä¹‹é–“çš„é—œä¿‚æª¢æ¸¬

<span class="btoc-banner">Step 01 è³‡æ–™æŸ¥çœ‹</span>
æ”¿é»¨èªåŒï¼šCA2$partisanship_N
<span class="ctoc-banner">7frq(CA2$partisanship_N)</span>
x <categorical> 
total N=1202 valid N=1175 mean=2.49 sd=1.03

Value      |   N | Raw % | Valid % | Cum. %
-------------------------------------------
å°ç£æ°‘çœ¾é»¨ | 209 | 17.39 |   17.79 |  17.79
æ³›ç¶ é™£ç‡Ÿ   | 460 | 38.27 |   39.15 |  56.94
æ³›è—é™£ç‡Ÿ   | 233 | 19.38 |   19.83 |  76.77
éƒ½ä¸å     | 273 | 22.71 |   23.23 | 100.00
  NA      |  27 |  2.25 |     NA  |    NA

å°ä¸­åœ‹ä¿¡ä»»åˆ†æ•¸ï¼š CA2$trust_CN (0-10)

ç¢ºä¿åˆ†çµ„æ˜¯ factor
CA2$partisanship_N <- factor(CA2$partisanship_N)

<span class="btoc-banner">Step 02 å–®å› å­ ANOVA</span>
<span class="ctoc-banner">a1 <- aov(trust_CN ~ 
                                    partisanship_N, 
                                    data = CA2)</span>
<span class="ctoc-banner">summary(a1)</span>

                 Df Sum Sq Mean Sq F value Pr(>F)    
partisanship_N    3   1107   369.0   70.04 <2e-16 ***
Residuals      1113   5863     5.3                   
---
Signif. codes:  0 â€˜***â€™ 0.001 â€˜**â€™ 0.01 â€˜*â€™ 0.05 â€˜.â€™ 0.1 â€˜ â€™ 1

èªªæ˜
å¹³æ–¹å’Œ Sum Sq = 1107 ä»£è¡¨çµ„é–“è®Šç•°ï¼Œå³ä¸åŒæ”¿æ²»å‚¾å‘çµ„åˆ¥çš„å¹³å‡æ•¸ä¹‹é–“å·®ç•°çš„ç¸½å’Œã€‚
å‡æ–¹ Mean Sq 369  = 1107 / 3 (df)ï¼Œä»£è¡¨çµ„é–“çš„å¹³å‡è®Šç•°é‡ã€‚
F å€¼è¶Šå¤§ï¼Œè¡¨ç¤ºçµ„é–“å·®ç•°ï¼ˆæ”¿æ²»å‚¾å‘çš„æ•ˆæ‡‰ï¼‰ç›¸å°æ–¼çµ„å…§å·®ç•°ï¼ˆèª¤å·®ï¼‰å°±è¶Šå¤§ã€‚


<span class="btoc-banner">Step 03 æ•ˆæœé‡èªªæ˜ï¼ˆÎ·Â² / éƒ¨åˆ†Î·Â²ï¼‰</span>
<span class="ctoc-banner">install.packages("effectsize")</span>
<span class="ctoc-banner">library(effectsize)</span>
<span class="ctoc-banner">eta_squared(a1, partial = TRUE)</span>

Effect Size for ANOVA

Parameter      | Eta2 |       95% CI
------------------------------------
partisanship_N | 0.16 | [0.13, 1.00]

- One-sided CIs: upper bound fixed at [1.00].

# èªªæ˜ï¼š
å–®å› å­è®Šç•°æ•¸åˆ†æçµæœé¡¯ç¤ºï¼Œæ”¿é»¨èªåŒå°ã„§è‡´è®Šé …ï¼ˆYï¼‰çš„å½±éŸ¿é”é«˜åº¦é¡¯è‘—ï¼Œ
F(3, 1113) = 70.04, p < .001ï¼Œæ•ˆæœé‡ Î·Â² â‰ˆ .16ï¼Œ
è¡¨ç¤ºç´„ 16% çš„ç¸½è®Šç•°å¯ç”±æ”¿é»¨èªåŒè§£é‡‹ã€‚

<span class="btoc-banner">Step 04 äº‹å¾Œæ¯”è¼ƒ Tukey test</span>
ANOVA åªæœƒå‘Šè¨´ä½ ï¼šã€Œå››çµ„å¹³å‡è‡³å°‘æœ‰ä¸€çµ„ä¸ä¸€æ¨£ã€ã€‚
ä½†å®ƒä¸æœƒå‘Šè¨´ä½ ï¼šå“ªå…©çµ„è·Ÿå“ªå…©çµ„ä¸ä¸€æ¨£ï¼Ÿ
æ‰€ä»¥æˆ‘å€‘æœƒåšäº‹å¾Œæ¯”è¼ƒï¼ˆpost-hoc testsï¼‰ï¼Œé€çµ„é…å°å»æ¯”ã€‚

<span class="ctoc-banner">TukeyHSD(a1)</span>
Fit: aov(formula = trust_CN ~ partisanship_N, data = CA2)
$partisanship_N
                    diff        lwr        upr     p adj
æ³›ç¶ é™£ç‡Ÿ-å°ç£æ°‘çœ¾é»¨ -1.62803532 -2.1259462 -1.1301245 0.0000000   ğŸ˜€    
æ³›è—é™£ç‡Ÿ-å°ç£æ°‘çœ¾é»¨  0.89760837  0.3254984  1.4697183 0.0003370   ğŸ˜€
éƒ½ä¸å-å°ç£æ°‘çœ¾é»¨   -0.06962025 -0.6335995  0.4943590 0.9889111
æ³›è—é™£ç‡Ÿ-æ³›ç¶ é™£ç‡Ÿ    2.52564369  2.0425794  3.0087079 0.0000000   ğŸ˜€
éƒ½ä¸å-æ³›ç¶ é™£ç‡Ÿ      1.55841507  1.0850084  2.0318217 0.0000000   ğŸ˜€ 
éƒ½ä¸å-æ³›è—é™£ç‡Ÿ     -0.96722862 -1.5181446 -0.4163126 0.0000410   ğŸ˜€ 

èªªæ˜
1)èª°æ¯”è¼ƒä¿¡ä»»ä¸­åœ‹ï¼Ÿã€
Tukey çš„å°æ¯”æ˜¯ã€Œå‰è€… âˆ’ å¾Œè€…ã€ï¼Œæ‰€ä»¥ï¼š
  â€¢ æ³›ç¶ é™£ç‡Ÿ âˆ’ å°ç£æ°‘çœ¾é»¨ = -1.63ï¼ˆp < .001ï¼‰
    å°ç£æ°‘çœ¾é»¨æ”¯æŒè€…æ¯”æ³›ç¶ æ”¯æŒè€…å¤§ç´„é«˜ 1.63 åˆ†çš„ä¸­åœ‹ä¿¡ä»»åº¦ï¼Œè€Œä¸”å·®ç•°é¡¯è‘—ã€‚
  â€¢ æ³›è—é™£ç‡Ÿ âˆ’ æ³›ç¶ é™£ç‡Ÿ = 2.53ï¼ˆp < .001ï¼‰
    æ³›è—æ”¯æŒè€…æ¯”æ³›ç¶ æ”¯æŒè€…é«˜ç´„ 2.53 åˆ†ï¼Œæ˜¯æ‰€æœ‰å°æ¯”è£¡å·®è·æœ€å¤§çš„çµ„åˆä¹‹ä¸€ã€‚
  â€¢ éƒ½ä¸å âˆ’ æ³›ç¶ é™£ç‡Ÿ = 1.56ï¼ˆp < .001ï¼‰
    è‡ªèªã€Œéƒ½ä¸åã€çš„é¸æ°‘ï¼Œä¹Ÿæ¯”æ³›ç¶ æ”¯æŒè€…å¤šå‡ºç´„ 1.56 åˆ†çš„ä¸­åœ‹ä¿¡ä»»åº¦ã€‚
æ‰€ä»¥ï¼Œæ³›ç¶ æ˜é¡¯æ˜¯å››çµ„è£¡ã€Œæœ€ä¸ä¿¡ä»»ä¸­åœ‹ã€çš„ä¸€ç¾¤ã€‚
â¸»
  æ³›è—ã€æ°‘çœ¾é»¨ã€ã€Œéƒ½ä¸åã€ä¹‹é–“æ€éº¼æ’ï¼Ÿ
  â€¢ æ³›è—é™£ç‡Ÿ âˆ’ å°ç£æ°‘çœ¾é»¨ = 0.90ï¼ˆp â‰ˆ 0.0003ï¼‰
    æ³›è—æ”¯æŒè€…æ¯”å°ç£æ°‘çœ¾é»¨æ”¯æŒè€…å†é«˜å°‡è¿‘ 1 åˆ†ï¼Œé¡¯è‘—æ›´ä¿¡ä»»ä¸­åœ‹ã€‚
  â€¢ éƒ½ä¸å âˆ’ æ³›è—é™£ç‡Ÿ = -0.97ï¼ˆp < .001ï¼‰
    é€™æ˜¯åéä¾†çœ‹ï¼šéƒ½ä¸åæ¯”æ³›è—ä½å°‡è¿‘ 1 åˆ†ï¼Œä¹Ÿé¡¯è‘—ä¸åŒã€‚
  â€¢ éƒ½ä¸å âˆ’ å°ç£æ°‘çœ¾é»¨ = -0.07ï¼ˆp â‰ˆ 0.99ï¼‰
    å·®ç•°éå¸¸å°è€Œä¸”å®Œå…¨ä¸é¡¯è‘—ï¼Œéƒ½ä¸å â‰ˆ å°ç£æ°‘çœ¾é»¨ï¼Œå¯ä»¥è¦–ç‚ºåŒä¸€å€‹ä¿¡ä»»æ°´æº–ã€‚
<span class="ttoc-banner">ç¸½çµ
Tukey äº‹å¾Œæ¯”è¼ƒé¡¯ç¤ºï¼Œåœ¨å°ä¸­åœ‹çš„ä¿¡ä»»åº¦ä¸Šï¼Œå„æ”¿é»¨èªåŒç¾¤é«”ä¹‹é–“å­˜åœ¨æ˜é¡¯å±¤ç´šå·®ç•°ã€‚
ç›¸è¼ƒæ–¼æ³›ç¶ æ”¯æŒè€…ï¼Œå°ç£æ°‘çœ¾é»¨æ”¯æŒè€…èˆ‡è‡ªèªã€Œéƒ½ä¸åã€çš„é¸æ°‘åˆ†åˆ¥é«˜å‡ºç´„ 1.63 åˆ†èˆ‡ 1.56 åˆ†ï¼Œ
è€Œæ³›è—æ”¯æŒè€…å‰‡é«˜å‡ºç´„ 2.53 åˆ†ï¼Œå·®ç•°å‡é”åˆ°é«˜åº¦é¡¯è‘—æ°´æº–ï¼ˆp < .001ï¼‰ã€‚
é€²ä¸€æ­¥æ¯”è¼ƒæ³›è—èˆ‡å…¶ä»–éç¶ ç‡Ÿç¾¤é«”ï¼Œ
å¯ä»¥çœ‹åˆ°æ³›è—æ”¯æŒè€…çš„ä¸­åœ‹ä¿¡ä»»åº¦äº¦é¡¯è‘—é«˜æ–¼å°ç£æ°‘çœ¾é»¨ï¼ˆç´„ 0.90 åˆ†ï¼‰èˆ‡
ã€Œéƒ½ä¸åã€é¸æ°‘ï¼ˆç´„ 0.97 åˆ†ï¼‰ï¼Œ
è€Œå°ç£æ°‘çœ¾é»¨èˆ‡ã€Œéƒ½ä¸åã€å…©è€…ä¹‹é–“å‰‡ç„¡é¡¯è‘—å·®ç•°ã€‚
æ•´é«”è€Œè¨€ï¼Œå››çµ„å—è¨ªè€…åœ¨ã€Œä¿¡ä»»ä¸­åœ‹ã€ä¸Šçš„æ’åºå¤§è‡´ç‚ºï¼š
æ³›è—æœ€é«˜ï¼Œå…¶æ¬¡ç‚ºå°ç£æ°‘çœ¾é»¨èˆ‡ã€Œéƒ½ä¸åã€å¤§è‡´ç›¸ç•¶ï¼Œæ³›ç¶ å‰‡æ˜é¡¯æœ€ä½ã€‚

å¹³å‡ä¿¡ä»»ä¸­åœ‹ç¨‹åº¦ç”±é«˜åˆ°ä½ä¾åºç‚ºï¼šæ³›è— ï¼ å°ç£æ°‘çœ¾é»¨ â‰ˆ éƒ½ä¸å ï¼ æ³›ç¶ ã€‚</span>

<span class="toc-banner">8.TukeyHSD(a1) è¦–è¦ºåŒ–: Forest plot</span>
<span class="ctoc-banner">install.packages("tibble")</span>
<span class="ctoc-banner">library(dplyr)
library(tibble)
library(ggplot2)</span>

<span class="btoc-banner">Step 01 å–å¾— Tukey çµæœ â†’ æ•´ç†æˆè³‡æ–™æ¡†</span>
<span class="ctoc-banner">tk <- TukeyHSD(a1)$partisanship_N %>%
                                as.data.frame() %>%
                                rownames_to_column("contrast") %>%
                                as_tibble() %>%
        rename(diff = diff, lwr = lwr, upr = upr, p_adj = `p adj`)</span>

<span class="ctoc-banner">tk</span>
# A tibble: 6 Ã— 5
  contrast               diff    lwr    upr    p_adj
  <chr>                 <dbl>  <dbl>  <dbl>    <dbl>
1 æ³›ç¶ é™£ç‡Ÿ-å°ç£æ°‘çœ¾é»¨ -1.63   -2.13  -1.13  5.51e-13
2 æ³›è—é™£ç‡Ÿ-å°ç£æ°‘çœ¾é»¨  0.898   0.325  1.47  3.37e- 4
3 éƒ½ä¸å-å°ç£æ°‘çœ¾é»¨   -0.0696 -0.634  0.494 9.89e- 1
4 æ³›è—é™£ç‡Ÿ-æ³›ç¶ é™£ç‡Ÿ    2.53    2.04   3.01  5.10e-13
5 éƒ½ä¸å-æ³›ç¶ é™£ç‡Ÿ      1.56    1.09   2.03  5.49e-13
6 éƒ½ä¸å-æ³›è—é™£ç‡Ÿ     -0.967  -1.52  -0.416 4.10e- 5

<span class="btoc-banner">Step 02 æ£®æ—åœ–</span>
<span class="ctoc-banner">p_ä¸­åœ‹ä¿¡ä»»åº¦_æˆå°æ¯”è¼ƒ <- ggplot(tk, aes(x = diff, y = reorder(contrast, diff))) +
  geom_vline(xintercept = 0, linetype = "dashed", color = "grey50") +
  geom_errorbarh(aes(xmin = lwr, xmax = upr), height = 0.18) +
  geom_point(size = 2.8) +
  geom_text(aes(label = sprintf("p = %.3g", p_adj)),
            nudge_y = 0.25, size = 3.2) +
  labs(
    title = "Tukey HSDï¼šå…©å…©å·®ç•°èˆ‡95% CI",
    x = "å¹³å‡å·®ï¼ˆå‰è€… âˆ’ å¾Œè€…ï¼‰", y = "å°æ¯”ï¼ˆA âˆ’ Bï¼‰"
  ) +
  theme_minimal(base_size = 13)</span>
<span class="ctoc-banner">p_ä¸­åœ‹ä¿¡ä»»åº¦_æˆå°æ¯”è¼ƒ</span>
<span class="btoc-banner">Step 03 save as .png file</span>
<span class="ctoc-banner">ggsave(
       filename = "ä¸­åœ‹ä¿¡ä»»åº¦_æˆå°æ¯”è¼ƒ.png",
       plot     = p_ä¸­åœ‹ä¿¡ä»»åº¦_æˆå°æ¯”è¼ƒ,
       device   = "png",
       width    = 8,      # å¯¬åº¦ï¼ˆè‹±å‹ï¼‰
       height   = 5,      # é«˜åº¦ï¼ˆè‹±å‹ï¼‰
       dpi      = 300,    # è§£æåº¦
       bg       = "white" # èƒŒæ™¯ï¼ˆé¿å…é€æ˜èƒŒæ™¯ï¼‰
      )</span>

<span class="btoc-banner">Step04 è¦–è¦ºåŒ– é›¢æ•£é»åœ–Jittered dot/strip plot</span>

å…ˆè§£æ±º NA
<span class="ctoc-banner">CA2c <- CA2 %>%
  mutate(
    # å…ˆæŠŠ "NA"ï¼ˆå­—é¢ï¼‰è½‰æˆçœŸ NAï¼Œå†è½‰æ•¸å€¼
    trust_CN       = as.numeric(na_if(as.character(trust_CN), "NA")),
    partisanship_N = factor(na_if(as.character(partisanship_N), "NA"))
  ) %>%
  drop_na(trust_CN, partisanship_N) %>%
  mutate(
    # ä¾ä½ çš„å‡èªªè¨­å®šé †åºï¼ˆå¯èª¿æ•´ï¼‰
    partisanship_N = fct_relevel(partisanship_N,
                                 "å°ç£æ°‘çœ¾é»¨","æ³›ç¶ é™£ç‡Ÿ","æ³›è—é™£ç‡Ÿ","éƒ½ä¸å")
  ) %>%
  droplevels()</span>
<span class="ctoc-banner">frq(CA2c$trust_CN)</span>
x <numeric> 
# total N=880 valid N=880 mean=2.22 sd=2.46

Value |   N | Raw % | Valid % | Cum. %
--------------------------------------
    0 | 391 | 44.43 |   44.43 |  44.43
    1 |  52 |  5.91 |    5.91 |  50.34
    2 |  61 |  6.93 |    6.93 |  57.27
    3 | 103 | 11.70 |   11.70 |  68.98
    4 |  61 |  6.93 |    6.93 |  75.91
    5 | 130 | 14.77 |   14.77 |  90.68
    6 |  39 |  4.43 |    4.43 |  95.11
    7 |  15 |  1.70 |    1.70 |  96.82
    8 |  19 |  2.16 |    2.16 |  98.98
    9 |   2 |  0.23 |    0.23 |  99.20
   10 |   7 |  0.80 |    0.80 | 100.00
   NA |   0 |  0.00 |     NA  |    NA
<span class="ctoc-banner">frq(CA2c$partisanship_N)</span>
x <categorical> 
# total N=880 valid N=880 mean=2.02 sd=0.70

Value      |   N | Raw % | Valid % | Cum. %
-------------------------------------------
å°ç£æ°‘çœ¾é»¨ | 204 | 23.18 |   23.18 |  23.18
æ³›ç¶ é™£ç‡Ÿ   | 453 | 51.48 |   51.48 |  74.66
æ³›è—é™£ç‡Ÿ   | 223 | 25.34 |   25.34 | 100.00
éƒ½ä¸å     |   0 |  0.00 |    0.00 | 100.00
 NA       |   0 |  0.00 |     NA  |   NA
<span class="ctoc-banner">p_ä¸­åœ‹æ»¿æ„åº¦ <- ggplot(CA2c, aes(partisanship_N, trust_CN)) +
  geom_jitter(width = .15, alpha = .25, shape = 16) +
  stat_summary(fun = mean, geom = "point", size = 3) +
  stat_summary(fun.data = \(y) ggplot2::mean_cl_normal(y),
               geom = "errorbar", width = .12) +
  stat_summary(fun = mean, aes(group = 1), geom = "line", linetype = 2) +
  labs(x = "æ”¿é»¨èªåŒ", y = "å°ä¸­åœ‹ä¿¡ä»»ï¼ˆ0â€“10ï¼‰") + showtext_auto()</span>
<span class="ctoc-banner">p_ä¸­åœ‹æ»¿æ„åº¦</span>

<span class="toc-banner">9.save as .png file</span>
<span class="ctoc-banner">ggsave(
  filename = "å„æ”¿é»¨_ä¸­åœ‹æ»¿æ„åº¦.png",
  plot     = p_ä¸­åœ‹æ»¿æ„åº¦,
  device   = "png",
  width    = 8,      # å¯¬åº¦ï¼ˆè‹±å‹ï¼‰
  height   = 5,      # é«˜åº¦ï¼ˆè‹±å‹ï¼‰
  dpi      = 300,    # è§£æåº¦
  bg       = "white" # èƒŒæ™¯ï¼ˆé¿å…é€æ˜èƒŒæ™¯ï¼‰
)</span>
<span class="toc-banner">10.å­˜æª”</span>
<span class="ctoc-banner">write.csv(CA1,"CA2.csv")</span>
<span class="ctoc-banner">write.csv(CA1,"CA1.csv")</span>
<span class="ctoc-banner">save.image("ä½ çš„å‘½å.RData")</span>
</code></pre>
  <div class="footer">
    <p>å€ªä¸–å‚‘ George S. J. Nee Â© 2025</p>
  </div>

</body>
</html>
</html>